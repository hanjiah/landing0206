
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lucky Coupon Fest 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Pretendard', sans-serif; scroll-behavior: smooth; }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .float-animation { animation: float 3s ease-in-out infinite; }
        @keyframes scaleIn {
          from { transform: scale(0.9); opacity: 0; }
          to { transform: scale(1); opacity: 1; }
        }
        .animate-scale-in { animation: scaleIn 0.3s ease-out forwards; }
        .hidden { display: none; }
    </style>
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.40.0",
    "react": "https://esm.sh/react@^19.2.4",
    "react/": "https://esm.sh/react@^19.2.4/"
  }
}
</script>
</head>
<body class="bg-gray-50 text-gray-900">

    <!-- Header -->
    <nav class="fixed top-0 w-full z-50 bg-white/80 backdrop-blur-md border-b border-gray-100 px-6 py-4 flex justify-between items-center">
        <div class="flex items-center gap-2">
            <div class="w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center text-white font-bold">L</div>
            <span class="text-xl font-extrabold tracking-tighter text-gray-900 uppercase">LuckyFest</span>
        </div>
        <button class="text-sm font-semibold text-gray-600 hover:text-orange-500 transition-colors">ì´ë²¤íŠ¸ ì•ˆë‚´</button>
    </nav>

    <!-- Hero Section -->
    <section class="relative pt-32 pb-16 px-6 bg-gradient-to-b from-orange-50 to-white text-center overflow-hidden">
        <div class="max-w-4xl mx-auto">
            <div class="inline-block px-4 py-1.5 mb-6 bg-orange-100 text-orange-600 text-sm font-bold rounded-full animate-bounce">
                ğŸ‰ 2025ë…„ ìƒˆí•´ ë§ì´ íŠ¹ë³„ ì´ë²¤íŠ¸
            </div>
            <h1 class="text-5xl md:text-7xl font-black text-gray-900 mb-6 leading-tight">
                ë‹¹ì‹ ì˜ í–‰ìš´ì„<br />
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-500 to-pink-500">ì§€ê¸ˆ ë°”ë¡œ ë°›ìœ¼ì„¸ìš”!</span>
            </h1>
            <p class="text-lg text-gray-600 mb-10 max-w-2xl mx-auto leading-relaxed">
                ìµœëŒ€ 50% í• ì¸ í˜œíƒë¶€í„° ë¬´ë£Œ ë°°ì†¡ê¶Œê¹Œì§€,<br />
                Gemini AIê°€ ì „í•˜ëŠ” í–‰ìš´ì˜ ë©”ì‹œì§€ì™€ í•¨ê»˜ íŠ¹ë³„í•œ ì¿ í°ì„ ì±™ê²¨ë³´ì„¸ìš”.
            </p>
            
            <div class="flex flex-col items-center gap-4">
                <p class="text-sm font-bold text-gray-400 uppercase tracking-widest">ì´ë²¤íŠ¸ ì¢…ë£Œê¹Œì§€ ë‚¨ì€ ì‹œê°„</p>
                <div id="countdown-container" class="flex gap-2 text-center">
                    <!-- Timer populated by JS -->
                </div>
            </div>
        </div>

        <i class="fas fa-gift absolute top-40 left-10 text-orange-200 text-6xl float-animation opacity-30 pointer-events-none"></i>
        <i class="fas fa-star absolute bottom-20 right-20 text-yellow-200 text-5xl float-animation opacity-40 pointer-events-none" style="animation-delay: 1s;"></i>
        <i class="fas fa-heart absolute top-60 right-10 text-pink-200 text-4xl float-animation opacity-20 pointer-events-none" style="animation-delay: 2s;"></i>
    </section>

    <!-- Coupon Grid -->
    <section class="max-w-6xl mx-auto px-6 py-12">
        <h2 class="text-2xl font-bold text-gray-800 mb-8 flex items-center gap-2">
            <i class="fas fa-tags text-orange-500"></i>
            ì¤€ë¹„ëœ íŠ¹ë³„ ì¿ í°
        </h2>
        <div id="coupon-grid" class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Coupons populated by JS -->
        </div>
    </section>

    <!-- Event Details Section -->
    <section class="max-w-4xl mx-auto px-6 py-16">
        <div class="bg-gray-900 rounded-3xl p-8 md:p-12 text-white overflow-hidden relative">
            <div class="relative z-10">
                <h3 class="text-3xl font-bold mb-6">ê¼­ í™•ì¸í•˜ì„¸ìš”!</h3>
                <ul class="space-y-4 text-gray-400 text-sm md:text-base">
                    <li class="flex gap-3">
                        <i class="fas fa-check-circle text-orange-400 mt-1"></i>
                        <span>ë³¸ ì´ë²¤íŠ¸ëŠ” ê³„ì •ë‹¹ ê° ì¿ í°ë³„ 1íšŒë§Œ ì°¸ì—¬ ê°€ëŠ¥í•©ë‹ˆë‹¤.</span>
                    </li>
                    <li class="flex gap-3">
                        <i class="fas fa-check-circle text-orange-400 mt-1"></i>
                        <span>ë‹¤ìš´ë¡œë“œí•œ ì¿ í°ì€ 'ë§ˆì´í˜ì´ì§€ &gt; ì¿ í°í•¨'ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.</span>
                    </li>
                    <li class="flex gap-3">
                        <i class="fas fa-check-circle text-orange-400 mt-1"></i>
                        <span>ì¿ í° ì‚¬ìš© ê¸°ê°„ì€ ë°œê¸‰ì¼ë¡œë¶€í„° 7ì¼ ì´ë‚´ì…ë‹ˆë‹¤.</span>
                    </li>
                    <li class="flex gap-3">
                        <i class="fas fa-check-circle text-orange-400 mt-1"></i>
                        <span>í–‰ìš´ì˜ ë©”ì‹œì§€ëŠ” Gemini AIì— ì˜í•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.</span>
                    </li>
                </ul>
            </div>
            <i class="fas fa-info-circle absolute -bottom-10 -right-10 text-gray-800 text-[180px] opacity-20 pointer-events-none"></i>
        </div>
    </section>

    <!-- Footer -->
    <footer class="text-center py-10 border-t border-gray-100">
        <p class="text-gray-400 text-sm">Â© 2025 LuckyFest Inc. All rights reserved.</p>
        <div class="flex justify-center gap-6 mt-4">
            <a href="#" class="text-gray-400 hover:text-orange-500"><i class="fab fa-instagram text-xl"></i></a>
            <a href="#" class="text-gray-400 hover:text-orange-500"><i class="fab fa-twitter text-xl"></i></a>
            <a href="#" class="text-gray-400 hover:text-orange-500"><i class="fab fa-facebook text-xl"></i></a>
        </div>
    </footer>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="fixed inset-0 z-[100] bg-white/80 backdrop-blur-sm flex flex-col items-center justify-center hidden">
        <div class="w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mb-4"></div>
        <p class="text-orange-600 font-bold animate-pulse">Geminiê°€ ë‹¹ì‹ ì˜ í–‰ìš´ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 z-[110] flex items-center justify-center p-6 bg-black/60 backdrop-blur-sm hidden">
        <div class="bg-white rounded-3xl w-full max-w-md overflow-hidden shadow-2xl animate-scale-in">
            <div class="bg-gradient-to-r from-orange-500 to-pink-500 p-8 text-center text-white">
                <div class="w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white/30">
                    <i class="fas fa-check text-3xl"></i>
                </div>
                <h4 class="text-2xl font-bold mb-1">ì¿ í° ë°œê¸‰ ì™„ë£Œ!</h4>
                <p id="modal-subtitle" class="text-orange-100 text-sm">í–‰ìš´ì´ í•¨ê»˜í•˜ëŠ” íŠ¹ë³„í•œ í•˜ë£¨ ë˜ì„¸ìš”</p>
            </div>
            
            <div class="p-8">
                <div class="bg-orange-50 border border-orange-100 rounded-2xl p-6 mb-6">
                    <div class="flex items-center gap-2 mb-3">
                        <span class="text-xs font-bold text-orange-600 bg-orange-100 px-2 py-0.5 rounded uppercase">AI í–‰ìš´ ë©”ì‹œì§€</span>
                    </div>
                    <p id="lucky-message" class="text-gray-800 font-medium leading-relaxed italic mb-4"></p>
                    <div class="flex justify-between items-center pt-4 border-t border-orange-200/50">
                        <div class="text-center">
                            <span class="block text-[10px] text-gray-500 uppercase font-bold">Lucky Number</span>
                            <span id="lucky-number" class="text-xl font-black text-orange-600"></span>
                        </div>
                        <div class="text-right flex-1 ml-4">
                            <span class="block text-[10px] text-gray-500 uppercase font-bold">Shopping Tip</span>
                            <span id="shopping-tip" class="text-xs text-gray-600 font-semibold"></span>
                        </div>
                    </div>
                </div>
                
                <button onclick="closeModal()" class="w-full py-4 bg-gray-900 text-white rounded-2xl font-bold hover:bg-black transition-colors">
                    ë‹«ê¸°
                </button>
            </div>
        </div>
    </div>

    <!-- Script Section -->
    <script type="module">
        import { GoogleGenAI, Type } from "@google/genai";

        // Configuration
        const INITIAL_COUPONS = [
            { id: '1', title: 'ì²« êµ¬ë§¤ ê°ì‚¬ ì¿ í°', discount: '20%', description: 'ëª¨ë“  ìƒí’ˆ ëŒ€ìƒ, 5ë§Œì› ì´ìƒ êµ¬ë§¤ ì‹œ', color: 'orange' },
            { id: '2', title: 'ì£¼ë§ ê¹œì§ í• ì¸', discount: '10,000ì›', description: 'ì•± ì „ìš©, 3ë§Œì› ì´ìƒ êµ¬ë§¤ ì‹œ', color: 'pink' },
            { id: '3', title: 'ë¬´ë£Œ ë°°ì†¡ê¶Œ', discount: 'FREE', description: 'ì§€ì—­ ì œí•œ ì—†ìŒ, ì „ í’ˆëª© ê°€ëŠ¥', color: 'indigo' },
        ];

        let claimedIds = JSON.parse(localStorage.getItem('claimed_coupons') || '[]');
        const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });

        // DOM Elements
        const couponGrid = document.getElementById('coupon-grid');
        const countdownContainer = document.getElementById('countdown-container');
        const loadingOverlay = document.getElementById('loading-overlay');
        const successModal = document.getElementById('success-modal');

        // Initial Render
        function init() {
            renderCoupons();
            startCountdown();
        }

        function renderCoupons() {
            couponGrid.innerHTML = INITIAL_COUPONS.map(coupon => {
                const isClaimed = claimedIds.includes(coupon.id);
                const colorClass = isClaimed ? 'gray' : coupon.color;
                const borderClass = isClaimed ? 'border-gray-200 bg-gray-100 grayscale' : `border-${coupon.color}-400 bg-white hover:scale-105`;
                const btnClass = isClaimed 
                    ? 'bg-gray-400 text-white cursor-not-allowed' 
                    : `bg-gradient-to-r from-orange-400 to-pink-500 text-white hover:shadow-xl active:scale-95`;

                return `
                    <div class="relative overflow-hidden rounded-2xl shadow-lg border-2 transition-all duration-300 ${borderClass}">
                        <div class="p-6 border-b-2 border-dashed ${isClaimed ? 'border-gray-300' : `border-${coupon.color}-200`}">
                            <div class="flex justify-between items-start mb-4">
                                <span class="px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${isClaimed ? 'bg-gray-300 text-gray-500' : `bg-${coupon.color}-100 text-${coupon.color}-600`}">
                                    Limited Edition
                                </span>
                                <i class="fas fa-ticket-alt text-2xl ${isClaimed ? 'text-gray-400' : `text-${coupon.color}-500`}"></i>
                            </div>
                            <h3 class="text-3xl font-extrabold text-gray-800 mb-1">${coupon.discount}</h3>
                            <p class="text-sm font-semibold text-gray-600">${coupon.title}</p>
                        </div>
                        <div class="p-6">
                            <p class="text-xs text-gray-500 mb-4">${coupon.description}</p>
                            <button 
                                onclick="window.claimCoupon('${coupon.id}')"
                                ${isClaimed ? 'disabled' : ''}
                                class="w-full py-3 rounded-xl font-bold transition-all duration-200 ${btnClass}"
                            >
                                ${isClaimed ? 'ë°›ê¸° ì™„ë£Œ' : 'ì¿ í° ë°›ê¸°'}
                            </button>
                        </div>
                        <div class="absolute left-0 top-1/2 -translate-y-1/2 w-4 h-8 bg-gray-50 rounded-r-full border-r border-t border-b border-gray-200"></div>
                        <div class="absolute right-0 top-1/2 -translate-y-1/2 w-4 h-8 bg-gray-50 rounded-l-full border-l border-t border-b border-gray-200"></div>
                    </div>
                `;
            }).join('');
        }

        window.claimCoupon = async (id) => {
            const coupon = INITIAL_COUPONS.find(c => c.id === id);
            if (!coupon || claimedIds.includes(id)) return;

            loadingOverlay.classList.remove('hidden');
            
            try {
                const response = await ai.models.generateContent({
                    model: "gemini-3-flash-preview",
                    contents: `ì‚¬ìš©ìê°€ '${coupon.title}' ì¿ í°ì„ ë°›ì•˜ìŠµë‹ˆë‹¤. ì´ ì‚¬ìš©ìì—ê²Œ ì¤„ ë”°ëœ»í•˜ê³  í–‰ìš´ì´ ê°€ë“í•œ ì§§ì€ ì‘ì› ë©”ì‹œì§€ì™€ ì˜¤ëŠ˜ì˜ í–‰ìš´ì˜ ìˆ«ì, ê·¸ë¦¬ê³  ì‡¼í•‘ íŒì„ JSON í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”. í•œêµ­ì–´ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”.`,
                    config: {
                        responseMimeType: "application/json",
                        responseSchema: {
                            type: Type.OBJECT,
                            properties: {
                                message: { type: Type.STRING },
                                luckyNumber: { type: Type.NUMBER },
                                recommendation: { type: Type.STRING },
                            },
                            required: ["message", "luckyNumber", "recommendation"],
                        },
                    },
                });

                const data = JSON.parse(response.text.trim());
                
                // Update State
                claimedIds.push(id);
                localStorage.setItem('claimed_coupons', JSON.stringify(claimedIds));
                
                // Show Modal
                document.getElementById('lucky-message').innerText = `"${data.message}"`;
                document.getElementById('lucky-number').innerText = data.luckyNumber;
                document.getElementById('shopping-tip').innerText = data.recommendation;
                
                renderCoupons();
                successModal.classList.remove('hidden');
            } catch (error) {
                console.error("Gemini Error:", error);
                alert("í–‰ìš´ ë©”ì‹œì§€ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì§€ë§Œ ì¿ í°ì€ ë°œê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤!");
                claimedIds.push(id);
                localStorage.setItem('claimed_coupons', JSON.stringify(claimedIds));
                renderCoupons();
            } finally {
                loadingOverlay.classList.add('hidden');
            }
        };

        window.closeModal = () => {
            successModal.classList.add('hidden');
        };

        function startCountdown() {
            let hours = 12, minutes = 45, seconds = 30;
            const updateUI = () => {
                const format = (n) => n.toString().padStart(2, '0');
                countdownContainer.innerHTML = `
                    <div class="bg-gray-800 text-white p-3 rounded-lg min-w-[60px]">
                        <span class="text-2xl font-bold block">${format(hours)}</span>
                        <span class="text-[10px] uppercase">Hours</span>
                    </div>
                    <span class="text-gray-800 text-2xl font-bold self-center">:</span>
                    <div class="bg-gray-800 text-white p-3 rounded-lg min-w-[60px]">
                        <span class="text-2xl font-bold block">${format(minutes)}</span>
                        <span class="text-[10px] uppercase">Mins</span>
                    </div>
                    <span class="text-gray-800 text-2xl font-bold self-center">:</span>
                    <div class="bg-gray-800 text-white p-3 rounded-lg min-w-[60px]">
                        <span class="text-2xl font-bold block">${format(seconds)}</span>
                        <span class="text-[10px] uppercase">Secs</span>
                    </div>
                `;
            };

            setInterval(() => {
                if (seconds > 0) seconds--;
                else {
                    seconds = 59;
                    if (minutes > 0) minutes--;
                    else {
                        minutes = 59;
                        if (hours > 0) hours--;
                    }
                }
                updateUI();
            }, 1000);
            updateUI();
        }

        init();
    </script>
</body>
</html>
